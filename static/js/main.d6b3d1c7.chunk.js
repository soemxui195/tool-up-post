(this["webpackJsonptool-post-news"]=this["webpackJsonptool-post-news"]||[]).push([[0],{265:function(e,t,a){e.exports=a.p+"static/media/logo.7eb6f8d5.png"},286:function(e,t,a){e.exports=a(590)},291:function(e,t,a){},581:function(e,t){},590:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),s=a.n(o),l=(a(291),a(292),a(18)),i=a(19),c=a(21),u=a(20),m=a(22),h=a(28),d=a(69),p=a(591),g=a(90),f=a(55),b=a(599),E=a(265),v=a.n(E),y=p.a.Content,w=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"layOutAuthen"},r.a.createElement("div",{className:"container"},r.a.createElement(g.a,null,r.a.createElement(f.a,{xs:24,md:{span:8,offset:8}},r.a.createElement("div",{className:"aff_dashboard"},r.a.createElement(b.a,{bordered:!1},r.a.createElement("div",{className:"logo_login mb3 tc"},r.a.createElement("img",{src:v.a,alt:"images logo"})),r.a.createElement("div",{className:"auto-center"},r.a.createElement(y,null,this.props.children))))))))}}]),t}(r.a.Component),O=a(60),S=a(29),k=a(600),C=a(603),j=a(5),T=a(39),I=r.a.createContext(null),P=function(e){return function(t){return r.a.createElement(I.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},N=I,A=a(63),x=a.n(A),D=(a(343),a(344),{apiKey:"AIzaSyCBFN7uAG91QluGYepV6xhXCo_KTItMuTU",authDomain:"tool-post-name.firebaseapp.com",databaseURL:"https://tool-post-name.firebaseio.com",projectId:"tool-post-name",storageBucket:"tool-post-name.appspot.com",messagingSenderId:"337595574788",appId:"1:337595574788:web:17dbc693d4827f581ee351",measurementId:"G-9G445CQ3N2"}),F=function e(){var t=this;Object(l.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignInWithTwitter=function(){return t.auth.signInWithPopup(t.twitterProvider)},this.doSignOut=function(){console.log("sign out"),t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification({url:Object({NODE_ENV:"production",PUBLIC_URL:"/tool-up-post",REACT_APP_API_KEY:"AIzaSyCBFN7uAG91QluGYepV6xhXCo_KTItMuTU",REACT_APP_AUTH_DOMAIN:"tool-post-name.firebaseapp.com",REACT_APP_DATABASE_URL:"https://tool-post-name.firebaseio.com",REACT_APP_PROJECT_ID:"tool-post-name",REACT_APP_STORAGE_BUCKET:"tool-post-name.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"337595574788"}).REACT_APP_CONFIRMATION_EMAIL_REDIRECT})},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,a){return t.auth.onAuthStateChanged((function(t){t?e(t):a()}))},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.message=function(e){return t.db.ref("messages/".concat(e))},this.messages=function(){return t.db.ref("messages")},x.a.initializeApp(D),this.serverValue=x.a.database.ServerValue,this.emailAuthProvider=x.a.auth.EmailAuthProvider,this.auth=x.a.auth(),this.db=x.a.database(),this.googleProvider=new x.a.auth.GoogleAuthProvider,this.facebookProvider=new x.a.auth.FacebookAuthProvider,this.twitterProvider=new x.a.auth.TwitterAuthProvider},L={email:"",password:"",error:null},U=P(function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then((function(){console.log("login susscess"),a.setState(Object(S.a)({},L))})).catch((function(e){console.log("login failer",e),a.setState({error:e})}))},a.onChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.state=Object(S.a)({},L),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,o=""===a||""===t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{onSubmit:this.onSubmit,className:"login-form"},r.a.createElement(k.a.Item,null,r.a.createElement(C.a,{prefix:r.a.createElement(j.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"\u0110\u1ecba ch\u1ec9 email"})),r.a.createElement(k.a.Item,null,r.a.createElement(C.a,{prefix:r.a.createElement(j.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"M\u1eadt Kh\u1ea9u"})),r.a.createElement(k.a.Item,null,r.a.createElement(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",disabled:o},"Log in"),n&&r.a.createElement("p",null,n.message),r.a.createElement(h.b,{to:"/register"},"\u0110\u0103ng k\xfd"),r.a.createElement(h.b,{to:"/passwordForget",className:"login-form-forgot"},"Qu\xean m\u1eadt kh\u1ea9u"))))}}]),t}(r.a.Component)),_=a(190),R=a(136),M=a(592),V=P((function(e){var t=e.firebase;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{type:"primary",onClick:t.doSignOut},"\u0110\u0103ng xu\u1ea5t"))})),B=p.a.Header,W=r.a.createElement(_.a,null,r.a.createElement(_.a.Item,{key:"0"},r.a.createElement("a",{href:"http://www.alipay.com/"},"1st menu item")),r.a.createElement(_.a.Item,{key:"1"},r.a.createElement("a",{href:"http://www.taobao.com/"},"2nd menu item")),r.a.createElement(_.a.Divider,null),r.a.createElement(_.a,{className:"tc"},r.a.createElement(V,null))),Y=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(B,{style:{background:"#fff",padding:0}},r.a.createElement(g.a,null,r.a.createElement(f.a,{span:8},r.a.createElement(j.a,{className:"trigger",type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:this.props.toggle})),r.a.createElement(f.a,{span:8,offset:8,className:"tr"},r.a.createElement("div",{className:"mr3"},r.a.createElement(R.a,{overlay:W,trigger:["click"]},r.a.createElement(M.a,{shape:"square",size:"large",icon:"user"}))))))}}]),t}(r.a.Component),G=p.a.Sider,H=p.a.Content,z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{className:"mainLayout"},r.a.createElement(G,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"logo"}),r.a.createElement(_.a,{mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(_.a.Item,{key:"1"},r.a.createElement(h.b,{to:"/"},r.a.createElement(j.a,{type:"unordered-list"}),r.a.createElement("span",null,"Danh s\xe1ch tin t\u1ee9c"))),r.a.createElement(_.a.Item,{key:"2"},r.a.createElement(h.b,{to:"/editorPage"},r.a.createElement(j.a,{type:"upload"}),r.a.createElement("span",null,"\u0110\u0103ng Tin M\u1edbi"))),r.a.createElement(_.a.Item,{key:"3"},r.a.createElement(h.b,{to:"/blogPost"},r.a.createElement(j.a,{type:"read"}),r.a.createElement("span",null,"Tin t\u1ee9c"))))),r.a.createElement(p.a,null,r.a.createElement(Y,{toggle:this.toggle,collapsed:this.state.collapsed}),r.a.createElement(H,{style:{margin:"24px 16px",background:"#fff",minHeight:280}},this.props.children)))}}]),t}(r.a.Component),K=a(594),J=a(273),Q=a(25),X=a.n(Q),q=a(187),$=a.n(q),Z=a(593),ee=a(598),te=a(602);a(431);function ae(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}var ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={link:"",previewVisible:!1,previewImage:"",fileList:[],file:{}},a.updateLink=function(e){a.setState({fileList:[{uid:"1",name:"image.png",status:"done",url:e}]})},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(e){return $.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.url||e.preview){t.next=4;break}return t.next=3,$.a.awrap(ae(e.originFileObj));case 3:e.preview=t.sent;case 4:a.setState({previewImage:e.url||e.preview,previewVisible:!0});case 5:case"end":return t.stop()}}))},a.handleChange=function(e){console.log(e),a.setState({file:e.file,fileList:e.fileList})},a.uploadToFirebase=function(){var e=X.a.storage().ref();console.log(a.state.file);var t=e.child("images/"+a.state.file.name).put(a.state.file.originFileObj,{contentType:"image/jpeg"});t.on(X.a.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),Z.a.info("T\u1ea3i l\xean l\xe0 "+t+"% ho\xe0n th\xe0nh"),e.state){case X.a.storage.TaskState.PAUSED:console.log("Upload is paused"),Z.a.warning("T\u1ea3i l\xean b\u1ecb d\u1eebng l\u1ea1i");break;case X.a.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){e.code}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){a.props.onUploadSuccess(e)}))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,o=r.a.createElement("div",{className:"dragger"},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(j.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Nh\u1ea5p ho\u1eb7c k\xe9o h\xecnh v\xe0o khu v\u1ef1c n\xe0y \u0111\u1ec3 t\u1ea3i l\xean"),r.a.createElement("p",{className:"ant-upload-hint"},"Ch\u1ecdn 1 t\u1ea5m h\xecnh l\xe0m \u1ea3nh \u0111\u1ea1i di\u1ec7n cho b\xe0i vi\u1ebft.")),s=r.a.createElement(T.a,{type:"primary",style:{marginLeft:20},shape:"round",icon:"upload",size:"large",onClick:this.uploadToFirebase},"\u0110\u0103ng h\xecnh l\xean");return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},r.a.createElement(f.a,{span:24},r.a.createElement(ee.a,{className:"uploadImg",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",fileList:n,onPreview:this.handlePreview,onChange:this.handleChange},n.length>=1?null:o)),r.a.createElement(f.a,{span:24},n.length>=1?s:null),r.a.createElement(te.a,{visible:t,footer:null,onCancel:this.handleCancel},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:a}))))}}]),t}(r.a.Component),re=C.a.TextArea,oe={labelCol:{span:4},wrapperCol:{span:16}},se=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={loading:!1,iconLoading:!1,postName:"",postTags:"",description:"",link:""},a.enterLoading=function(){a.setState({loading:!0})},a.save=function(){""!==a.state.postName&&""!==a.state.postTags&&""!==a.state.description?a.editor&&a.editor.exportHtml((function(e){var t=e.design,n=e.html;if(console.log("exportHtml",n),console.log("Save data",e),a.postId){var o=X.a.auth().currentUser.email;X.a.storage().ref();X.a.database().ref("posts/"+a.postId).set({content:JSON.stringify(t),title:a.state.postName,tags:a.state.postTags,date:(new Date).getTime(),author:o,contentAsHTML:n,description:a.state.description,link:a.state.link})}else{console.log("user id",a.userId);var s=X.a.auth().currentUser.email;X.a.storage().ref();X.a.database().ref("posts").push({date:(new Date).getTime(),title:a.state.postName,author:s,tags:a.state.postTags,content:JSON.stringify(t),contentAsHTML:n,description:a.state.description,link:a.state.link})}K.a.open({message:"B\xe0i vi\u1ebft \u0111\xe3 \u0111\u01b0\u1ee3c l\u01b0u l\u1ea1i",icon:r.a.createElement(j.a,{type:"smile",style:{color:"#108ee9"}})})})):K.a.open({message:"Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin!",icon:r.a.createElement(j.a,{type:"warning",style:{color:"#FFC107"}})})},a.onChangeName=function(e){a.setState({postName:e.target.value})},a.onChangeTags=function(e){a.setState({postTags:e.target.value})},a.onChangeDes=function(e){a.setState({description:e.target.value})},a.onUploadSuccess=function(e){console.log("ddaay la link: ",e),a.setState({link:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.postId=this.props.history.location.search.slice(4),this.userId=X.a.auth().currentUser.uid,console.log("Edit id",this.postId),X.a.database().ref("posts").once("value",(function(t){var a=[];t.forEach((function(t){if(t.key===e.postId){var n=t.val();console.log("Edit post",n.content),e.editor.loadDesign(JSON.parse(n.content)),e.setState({postName:n.title,postTags:n.tags,description:n.description,link:n.link}),e.uploadImgView&&e.uploadImgView.updateLink(n.link)}a.push(Object(S.a)({},t.val(),{key:t.key}))}))}))}},{key:"onChange",value:function(e){console.log("selected ".concat(e))}},{key:"onBlur",value:function(){console.log("blur")}},{key:"onFocus",value:function(){console.log("focus")}},{key:"onSearch",value:function(e){console.log("search:",e)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{title:this.state.postId?"S\u1eeda Tin T\u1ee9c":"Th\xeam Tin T\u1ee9c",bordered:!1,extra:r.a.createElement("div",null,r.a.createElement(T.a,{type:"primary",className:"bg-dark-blue ",loading:this.state.loading,onClick:this.save},"L\u01b0u L\u1ea1i"))},r.a.createElement(g.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},r.a.createElement(f.a,{className:"gutter-row",span:12},r.a.createElement(k.a.Item,Object.assign({},oe,{label:"T\xean B\xe0i Vi\u1ebft: "}),r.a.createElement(re,{placeholder:"Nh\u1eadp t\xean b\xe0i vi\u1ebft",value:this.state.postName,onChange:this.onChangeName,autoSize:!0})),r.a.createElement(k.a.Item,Object.assign({},oe,{label:"T\xean Ch\u1ee7 \u0110\u1ec1: "}),r.a.createElement(re,{placeholder:"Nh\u1eadp t\xean ch\u1ee7 \u0111\u1ec1",value:this.state.postTags,onChange:this.onChangeTags,autoSize:!0})),r.a.createElement(k.a.Item,Object.assign({},oe,{label:"M\xf4 T\u1ea3: "}),r.a.createElement(re,{placeholder:"Nh\u1eadp m\xf4 t\u1ea3 b\xe0i vi\u1ebft",autoSize:{minRows:2,maxRows:6},value:this.state.description,onChange:this.onChangeDes}))),r.a.createElement(f.a,{className:"gutter-row",span:12},r.a.createElement(ne,{onUploadSuccess:this.onUploadSuccess,ref:function(t){return e.uploadImgView=t}})),r.a.createElement(f.a,{className:"gutter-row",span:24},r.a.createElement("hr",null),r.a.createElement(J.a,{style:{width:"2000px"},ref:function(t){return e.editor=t}})))))}}]),t}(r.a.Component),le=a(282),ie=a(604),ce=a(595),ue=a(596),me=a(597),he=a(279),de=a.n(he),pe=function(e,t){var a=new Date(e),n=a.getFullYear(),r=("0"+(a.getMonth()+1)).slice(-2),o=("0"+a.getDate()).slice(-2),s=("0"+a.getHours()).slice(-2),l=("0"+a.getMinutes()).slice(-2),i=("0"+a.getSeconds()).slice(-2);return t.replace("YYYY",n.toString()).replace("yyyy",n.toString()).replace("dd",o.toString()).replace("DD",o.toString()).replace("MM",r.toString()).replace("hh",s.toString()).replace("mm",l.toString()).replace("ss",i.toString())},ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,iconLoading:!1,searchText:"",searchedColumn:"",dataSource:[]},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,o=t.selectedKeys,s=t.confirm,l=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(C.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(o,s,e)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(T.a,{type:"primary",onClick:function(){return a.handleSearch(o,s,e)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(T.a,{onClick:function(){return a.handleReset(l)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(j.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(t){return a.state.searchedColumn===e?r.a.createElement(de.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:t.toString()}):t}}},a.handleSearch=function(e,t,n){t(),a.setState({searchText:e[0],searchedColumn:n})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.handleDelete=function(e){var t=Object(le.a)(a.state.dataSource);a.setState({dataSource:t.filter((function(t){return t.key!==e}))}),X.a.database().ref("posts/"+e).remove()},X.a.database().ref("posts").once("value",(function(e){var t=[];e.forEach((function(e){t.push(Object(S.a)({},e.val(),{key:e.key}))})),a.setState({dataSource:t})})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=[Object(S.a)({title:"Th\u1eddi gian \u0111\u0103ng",dataIndex:"date",key:"date"},this.getColumnSearchProps("date"),{render:function(e){return r.a.createElement("span",null,pe(e,"DD/MM/YYYY hh:mm"))}}),Object(S.a)({title:"Ti\xeau \u0111\u1ec1",dataIndex:"title",key:"title"},this.getColumnSearchProps("title")),Object(S.a)({title:"T\xe1c gi\u1ea3",dataIndex:"author",key:"author"},this.getColumnSearchProps("author")),Object(S.a)({title:"Ch\u1ee7 \u0111\u1ec1",dataIndex:"tags",key:"tags"},this.getColumnSearchProps("tags"),{render:function(e){return e?r.a.createElement("span",null,e.split(",").map((function(e){return r.a.createElement("span",null,r.a.createElement(ie.a,{color:"blue"},e))}))):r.a.createElement("span",null,r.a.createElement(ie.a,{color:"blue"},"Kh\xf4ng c\xf3 ch\u1ee7 \u0111\u1ec1"))}}),Object(S.a)({title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status"},this.getColumnSearchProps("status"),{render:function(e){var t;return"published"===e?t="green":"draft"===e?t="gold":"disable"===e?t="red":(e="published",t="green"),r.a.createElement(ie.a,{color:t,key:e},e.toUpperCase())}}),{title:"Action",dataIndex:"key",key:"key",render:function(t){return e.state.dataSource.length>=1?r.a.createElement("div",null,r.a.createElement(h.b,{to:"/viewPost?id="+t},r.a.createElement("span",null,"Xem")),r.a.createElement(ce.a,{type:"vertical"}),r.a.createElement(ue.a,{title:"X\xe1c nh\u1eadn x\xf3a?",okText:"C\xf3",cancelText:"H\u1ee7y",onConfirm:function(){return e.handleDelete(t)}},r.a.createElement("a",{href:"# "},"X\xf3a")),r.a.createElement(ce.a,{type:"vertical"}),r.a.createElement(h.b,{to:"/editorPage?id="+t},r.a.createElement("span",null,"S\u1eeda"))):null}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{columns:t,dataSource:this.state.dataSource,bordered:!0}))}}]),t}(r.a.Component),fe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{title:"Danh s\xe1ch tin t\u1ee9c",bordered:!1},r.a.createElement(ge,null)))}}]),t}(r.a.Component),be={username:"",email:"",passwordOne:"",passwordTwo:"",isAdmin:!1,error:null},Ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.username,r=t.email,o=t.passwordOne,s=t.isAdmin,l={};s&&(l.ADMIN="ADMIN"),a.props.firebase.doCreateUserWithEmailAndPassword(r,o).then((function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:r,roles:l})})).then((function(){return a.props.firebase.doSendEmailVerification()})).then((function(){a.setState(Object(S.a)({},be)),a.props.history.push("/")})).catch((function(e){"auth/email-already-in-use"===e.code&&(e.message="\n    An account with this E-Mail address already exists.\n    Try to login with this account instead. If you think the\n    account is already used from one of the social logins, try\n    to sign in with one of them. Afterward, associate your accounts\n    on your personal account page.\n  "),a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.onChangeCheckbox=function(e){a.setState(Object(O.a)({},e.target.name,e.target.checked))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Hai m\u1eadt kh\u1ea9u kh\xf4ng gi\u1ed1ng nhau!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a.state=Object(S.a)({},be),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.passwordOne,n=e.passwordTwo,o=e.error,s=a!==n||""===a||""===t,l=this.props.form.getFieldDecorator;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{id:"registerForm",onSubmit:this.onSubmit,className:"login-form"},r.a.createElement(k.a.Item,{label:"Email"},l("email",{rules:[{type:"email",message:"\u0110\u1ecba ch\u1ec9 E-mail kh\xf4ng h\u1ee3p l\u1ec7!"},{required:!0,message:"Vui l\xf2ng nh\u1eadp \u0111\u1ecba ch\u1ec9 E-mail c\u1ee7a b\u1ea1n!"}]})(r.a.createElement(C.a,{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}))),r.a.createElement(k.a.Item,{label:"Password",hasFeedback:!0},l("password",{rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n!"},{validator:this.validateToNextPassword}]})(r.a.createElement(C.a.Password,{name:"passwordOne",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}))),r.a.createElement(k.a.Item,{label:"Confirm Password",hasFeedback:!0},l("confirm",{rules:[{required:!0,message:"Vui l\xf2ng x\xe1c nh\u1eadn m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(C.a.Password,{name:"passwordTwo",value:n,onChange:this.onChange,type:"password",placeholder:"Confirm Password",onBlur:this.handleConfirmBlur}))),r.a.createElement(k.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:4}}},r.a.createElement(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",disabled:s},"\u0110\u0103ng k\xfd"),o&&r.a.createElement("p",null,o.message),r.a.createElement(h.b,{to:"/login"},"\u0110\u0103ng nh\u1eadp"),r.a.createElement(h.b,{to:"/passwordForget",className:"login-form-forgot"},"Qu\xean m\u1eadt kh\u1ea9u"))))}}]),t}(r.a.Component),ve=P(k.a.create({name:"register"})(Ee)),ye={email:"",error:null},we=P(function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then((function(){a.setState(Object(S.a)({},ye))})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.state=Object(S.a)({},ye),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{id:"registerForm",onSubmit:this.onSubmit,className:"login-form"},r.a.createElement(k.a.Item,null,r.a.createElement(C.a,{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"\u0110\u1ecba ch\u1ec9 email"})),r.a.createElement(k.a.Item,null,r.a.createElement(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",disabled:n},"ok"),a&&r.a.createElement("p",null,a.message),r.a.createElement(h.b,{to:"/login"},"\u0110\u0103ng nh\u1eadp"),r.a.createElement(h.b,{to:"/register",className:"login-form-forgot"},"\u0110\u0103ng k\xfd"))))}}]),t}(r.a.Component)),Oe=a(601),Se=b.a.Meta,ke=Oe.a.Text,Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={dataSource:[]},X.a.database().ref("posts").once("value",(function(e){var t=[];e.forEach((function(e){t.push(Object(S.a)({},e.val(),{key:e.key}))})),a.setState({dataSource:t})})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.dataSource.map((function(e){return r.a.createElement(f.a,{className:"gutter-row",span:6},r.a.createElement(h.b,{to:"/viewPost?id="+e.key},r.a.createElement(b.a,{className:"cardPost",extra:r.a.createElement("span",{className:"card-post__category"},e.tags),cover:r.a.createElement("img",{alt:"example",src:e.link})},r.a.createElement(Se,{style:{marginBottom:8},title:e.title,description:e.description}),r.a.createElement(ke,{code:!0},pe(e.date,"Ng\xe0y \u0111\u0103ng: DD/MM/YYYY")))))})))}}]),t}(r.a.Component),je=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{margin:"15px"}},r.a.createElement(g.a,{gutter:[{xs:8,sm:16,md:24,lg:32},20]},r.a.createElement(Ce,null)))}}]),t}(r.a.Component),Te=a(541),Ie=a(543).Parser,Pe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.postId=this.props.history.location.search.slice(4),this.userId=X.a.auth().currentUser.uid,this.setState({postId:this.postId}),console.log("Edit id",this.postId),X.a.database().ref("posts").once("value",(function(t){t.forEach((function(t){if(t.key===e.postId){var a=t.val();console.log("Edit post",a.content),e.setState({data:a})}}))}))}},{key:"render",value:function(){var e=(new Ie).parse(this.state.data.contentAsHTML);Te.renderToStaticMarkup(e);return r.a.createElement(r.a.Fragment,null,e)}}]),t}(r.a.Component),Ne=P(function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isLogin:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.onAuthUserListener((function(t){console.log("login success 1"),e.setState({isLogin:!0})}),(function(){e.setState({isLogin:!1})}))}},{key:"componentWillUnmount",value:function(){this.listener&&this.listener()}},{key:"render",value:function(){return r.a.createElement(h.a,null,this.state.isLogin?r.a.createElement(z,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:fe}),r.a.createElement(d.b,{exact:!0,path:"/editorPage",component:se}),r.a.createElement(d.b,{exact:!0,path:"/blogPost",component:je}),r.a.createElement(d.b,{exact:!0,path:"/viewPost",component:Pe}),r.a.createElement(d.a,{to:"/"}))):r.a.createElement(w,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/login",component:U}),r.a.createElement(d.b,{path:"/register",component:ve}),r.a.createElement(d.b,{path:"/passwordForget",component:we}),r.a.createElement(d.a,{to:"/login"}))))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(N.Provider,{value:new F},r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[286,1,2]]]);
//# sourceMappingURL=main.d6b3d1c7.chunk.js.map